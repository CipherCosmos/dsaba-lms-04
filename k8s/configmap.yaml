apiVersion: v1
kind: ConfigMap
metadata:
  name: dsaba-lms-config
  namespace: dsaba-lms
data:
  # Application Configuration
  APP_NAME: "DSABA LMS"
  APP_VERSION: "1.0.0"
  ENVIRONMENT: "production"
  LOG_LEVEL: "INFO"

  # Database Configuration
  POSTGRES_DB: "exam_management"
  POSTGRES_USER: "dsaba_user"

  # Redis Configuration
  REDIS_URL: "redis://dsaba-lms-redis:6379/0"
  CELERY_BROKER_URL: "redis://dsaba-lms-redis:6379/1"
  CELERY_RESULT_BACKEND: "redis://dsaba-lms-redis:6379/2"

  # Application Settings
  JWT_ALGORITHM: "HS256"
  JWT_ACCESS_TOKEN_EXPIRE_MINUTES: "1440"
  CORS_ALLOW_METHODS: "GET,POST,PUT,DELETE,OPTIONS"
  CORS_ALLOW_HEADERS: "Accept,Accept-Language,Content-Language,Content-Type,Authorization,X-Requested-With"
  CORS_ALLOW_CREDENTIALS: "true"

  # Feature Flags
  FEATURE_CACHING_ENABLED: "true"
  RATE_LIMIT_ENABLED: "true"

  # Database Pool Settings
  DB_POOL_SIZE: "10"
  DB_MAX_OVERFLOW: "20"
  DB_POOL_RECYCLE: "3600"

  # File Upload Settings
  MAX_UPLOAD_SIZE: "10485760"  # 10MB

  # Email Settings (placeholders - configure in secrets)
  SMTP_SERVER: "smtp.gmail.com"
  SMTP_PORT: "587"
  SMTP_TLS: "true"

  # Monitoring
  SENTRY_DSN: ""  # Configure in secrets if using Sentry